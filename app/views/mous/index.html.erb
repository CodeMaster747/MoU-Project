<div class="d-flex align-items-center justify-content-between mb-3">
  <h1 class="h3 mb-0">MoUs</h1>
  <%= link_to "New MoU", new_mou_path, class: "btn btn-primary" %>
</div>

<div class="card mb-3">
  <div class="card-body">
    <%= form_with url: mous_path, method: :get, local: true do |f| %>
      <div class="row g-2 align-items-end">
        <div class="col-md-6">
          <%= f.label :q, "Search (title / organization)", class: "form-label" %>
          <%= f.text_field :q, value: @q, class: "form-control", placeholder: "Search..." %>
        </div>
        <div class="col-md-3">
          <%= f.label :status, class: "form-label" %>
          <%= f.select :status, [["All", ""], ["Pending", "pending"], ["Active", "active"], ["Expired", "expired"]], { selected: @status }, class: "form-select" %>
        </div>
        <div class="col-md-3 d-flex gap-2">
          <%= f.submit "Filter", class: "btn btn-outline-primary" %>
          <%= link_to "Reset", mous_path, class: "btn btn-outline-secondary" %>
        </div>
      </div>
    <% end %>
  </div>
</div>

<div class="card">
  <div class="table-responsive">
    <table class="table table-striped table-hover mb-0 align-middle">
      <thead class="table-light">
        <tr>
          <th>Title</th>
          <th>Organizations</th>
          <th>Department</th>
          <th>Period</th>
          <th>Status</th>
          <th class="text-end">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @mous.each do |mou| %>
          <tr>
            <td class="fw-semibold"><%= link_to mou.title, mou_path(mou), class: "text-decoration-none" %></td>
            <td><%= mou.organization_one %> / <%= mou.organization_two %></td>
            <td><%= mou.department %></td>
            <td><%= mou.start_date %> â†’ <%= mou.end_date %></td>
            <td><%= mou_status_badge(mou) %></td>
            <td class="text-end">
              <div class="d-grid gap-1">
                <%= link_to "View", mou_path(mou), class: "btn btn-sm btn-outline-primary d-block w-100" %>
                <%= link_to "Edit", edit_mou_path(mou), class: "btn btn-sm btn-outline-secondary d-block w-100" %>
                <%= button_to "Delete", mou_path(mou), method: :delete, class: "btn btn-sm btn-outline-danger w-100", form: { class: "d-grid", data: { turbo_confirm: "Delete this MoU?" } } %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <div class="card-body">
    <%= paginate @mous %>
  </div>
</div>
